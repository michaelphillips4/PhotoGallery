@page "/gallery"
@inject HttpClient Http

@{

    var counter = 0;
}


@if (files == null)
{
    <p><em>Loading...</em></p>
}
else
{
    int i = 0;

    @while (i < files.Length)
    {
        <div class="row">
            <div class="col-lg">
                <a href="/Photos/Kew072022/@files[i]">
                    <img src="/Photos/Kew072022/@files[i]" class="rounded img-fluid p-2" />
                </a>
            </div>
            <div class="col-lg">
                @if (i + 1 < files.Length)
                {
                    <a href="/Photos/Kew072022/@files[i + 1 ]">
                        <img src="/Photos/Kew072022/@files[i + 1 ]" class="rounded img-fluid p-2" />
                    </a>
                }

            </div>
            <div class="col-lg">
                @if (i + 2 < files.Length)
                {
                    <a href="/Photos/Kew072022/@files[i + 2]">
                        <img src="/Photos/Kew072022/@files[i + 2]" class="rounded img-fluid p-2" />
                    </a>
                }

            </div>
        </div>

        counter++;
        if (counter > 4) { counter = 0; };
        i = i + 3;
    }



}

@code {
    private String[] files;

    protected override async Task OnInitializedAsync()
    {
        const string path = @"Photos\Kew072022\";

        var temp = await Http.GetStringAsync(path + "list.txt");

        files = temp.Split(Environment.NewLine);

    }

}
